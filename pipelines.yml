

pipeline
  - name: 1pipeline1
    steps:
      - name: mvnBuild_sample
        type: MvnBuild
        configuration:
          sourceLocation: ./artifactory-maven-plugin-example
          mvnCommand: clean install -f ./pom.xml
          configFileLocation: .
          configFileName: #mvn-art-config
          inputResources:
            - name: mvn_repo
          integrations:
            - name: bindu_arti
            - name: bindu_slack
        execution:
          onStart:
            - apt install default-jdk
            - pushd /tmp
              wget
              http://mirrors.estointernet.in/apache/maven/maven-3/3.6.1/binaries/apache-maven-3.6.1-bin.tar.gz
            - tar xzvf apache-maven-3.6.1-bin.tar.gz
            - 'export PATH=$PATH:/tmp/apache-maven-3.6.1/bin'
            - export M2_HOME=/tmp/apache-maven-3.6.1/
            - popd
            - javac -version
            - mvn --version
          onSuccess:
            - send_notifications bindu_slack

      - name: mvnBuild_publish
        type: PublishBuildInfo
        configuration:
          integrations:
            - name: bindu_slack
          inputSteps:
            - name: mvnBuild_sample
          outputResources:
            - name: mvnBuild_info
        execution:
          onSuccess:
            - send_notifications bindu_slack
